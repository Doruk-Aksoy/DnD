ACTOR FlemoidMobius : DnD_BaseHybridMonster {
	Health 0x7FFFFFFF
	Mass 0x7FFFFFFF
	Speed 5
	Height 64
	Radius 64
	ProjectilePassHeight 100
	Painchance 16
	Bloodcolor "Green"
	Seesound "qbaron/sight"
	Painsound "qbaron/pain"
	Deathsound "qbaron/death"
	Activesound "qbaron/active"
	Minmissilechance 64
	Species "Chex"
	Tag "Flemobius"
	+DONTHURTSPECIES
	+DONTHARMSPECIES
	+ISMONSTER
	+FLOORCLIP
	+QUICKTORETALIATE
	-DROPOFF
	+DONTRIP
	+NORADIUSDMG
	+THRUSPECIES
	+LOOKALLAROUND
	Obituary "%o was defeated by the Flemobius."
	
	const int zlow = 4;
	const int zhigh = 10;
	const int v = 10;
	
	states {		
		SetInfo:
			TNT1 A 0 A_SetArg(4, DND_CHEX_FLEMOBIUS)
			TNT1 A 0 ACS_NamedExecuteWithResult("DnD Init Monster Data", DND_MWEIGHT_RARE1)
		Goto SpawnSetup

		SeeState:
			C013 A 3 A_CheckSight("MovingChase")
			C013 A 0 A_Chase ("Melee", "Missile", CHF_DONTMOVE)
			C013 A 3 A_CheckSight("MovingChase")
			C013 A 0 A_Chase ("Melee", "Missile", CHF_DONTMOVE)
			C013 B 3 A_CheckSight("MovingChase")
			C013 B 0 A_Chase ("Melee", "Missile", CHF_DONTMOVE)
			C013 B 3 A_CheckSight("MovingChase")
			C013 B 0 A_Chase ("Melee", "Missile", CHF_DONTMOVE)
		loop
		MovingChase:
			C013 AB 6 A_Chase
		Goto SeeState
		IdleState:
			C013 AB 6 A_GiveInventory("DnD_SightChecker", 1)
		loop
		MeleeState:
		MissileState:
			C013 EF 4 A_FaceTarget
			C013 E 17 A_CustomMissile("MaximusBall", 42, 0, 0)
			C013 G 7 A_SentinelRefire
		goto See
		PainState:
			C013 O 2 A_SpawnItemEx("ChexMeteorShitlet", frandom(-radius, radius), frandom(-radius, radius), frandom(height / 2, 3 * height / 4), frandom(-v, v), frandom(-v, v), frandom(zlow, zhigh), 0)
			C013 H 2 A_Pain
		goto See
		XDeathState:
		DeathState:
			C013 I 1 A_Scream
			C013 I 2 A_NoBlocking
			C013 J 3 A_SpawnItemEx("GenericGibber_Medium_Delayed", 0, 0, 34, 0, 0, 0, 0, SXF_USEBLOODCOLOR)
			TNT1 AA 0 A_SpawnItemEx("ChexMeteorShitlet", frandom(-radius, radius), frandom(-radius, radius), frandom(height / 2, 3 * height / 4), frandom(-v, v), frandom(-v, v), frandom(zlow, zhigh), 0)
			C013 KLM 4
			C013 N 5
		stop
	}
}